{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport Amplify from '@aws-amplify/core';\nimport { DataStore } from '@aws-amplify/datastore';\nvar display = [];\nexport default function test() {\n  var _useState = useState(display),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayState = _useState2[0],\n      updateDisplay = _useState2[1];\n\n  useEffect(function () {\n    fetchTodo();\n    var subscription = DataStore.observe(Todo).subscribe(function () {\n      return fetchTodo();\n    });\n    return function () {\n      return subscription.unsubscribe();\n    };\n  });\n\n  function fetchTodo() {\n    var displayState;\n    return _regeneratorRuntime.async(function fetchTodo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(DataStore.query(Todo));\n\n          case 2:\n            displayState = _context.sent;\n            updateDisplay(displayState);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return displayState;\n}","map":{"version":3,"sources":["C:/Users/nduda/Documents/GitHub/Oxi-react/test.js"],"names":["React","useState","useEffect","Amplify","DataStore","display","test","displayState","updateDisplay","fetchTodo","subscription","observe","Todo","subscribe","unsubscribe","query"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AAGA,IAAMC,OAAO,GAAG,EAAhB;AACA,eAAe,SAASC,IAAT,GAAgB;AAE/B,kBAAsCL,QAAQ,CAACI,OAAD,CAA9C;AAAA;AAAA,MAAOE,YAAP;AAAA,MAAqBC,aAArB;;AACEN,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,SAAS;AAET,QAAMC,YAAY,GAAGN,SAAS,CAACO,OAAV,CAAkBC,IAAlB,EAAwBC,SAAxB,CAAkC;AAAA,aACvDJ,SAAS,EAD8C;AAAA,KAAlC,CAArB;AAGA,WAAO;AAAA,aAAMC,YAAY,CAACI,WAAb,EAAN;AAAA,KAAP;AACD,GAPQ,CAAT;;AASA,WAAeL,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAC6BL,SAAS,CAACW,KAAV,CAAgBH,IAAhB,CAD7B;;AAAA;AACQL,YAAAA,YADR;AAEEC,YAAAA,aAAa,CAACD,YAAD,CAAb;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,SAAOA,YAAP;AACD","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Amplify from '@aws-amplify/core';\r\nimport { DataStore } from '@aws-amplify/datastore';\r\n\r\n\r\nconst display = []\r\nexport default function test() {\r\n\r\nconst [displayState, updateDisplay] = useState(display);\r\n  useEffect(() => {\r\n    fetchTodo();\r\n\r\n    const subscription = DataStore.observe(Todo).subscribe(() => \r\n    fetchTodo()\r\n    );\r\n    return () => subscription.unsubscribe();\r\n  });\r\n\r\n  async function fetchTodo() {\r\n    const displayState = await DataStore.query(Todo)\r\n    updateDisplay(displayState);\r\n  }\r\n\r\n  return displayState\r\n}"]},"metadata":{},"sourceType":"module"}